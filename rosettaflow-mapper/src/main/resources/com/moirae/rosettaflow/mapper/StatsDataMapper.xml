<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.moirae.rosettaflow.mapper.StatsDataMapper">
    <select id="getDataTokenUsedTop" resultType="com.moirae.rosettaflow.mapper.domain.StatsData">
        select msd.meta_data_id,
               msd.token_used,
               mt.name as tokenName,
               mt.address as tokenName
        from mo_stats_data msd inner join dc_meta_data dmd on msd.meta_data_id = dmd.meta_data_id
            inner join mo_token mt on dmd.token_address = mt.address
        order by msd.token_used desc
        limit #{size}
    </select>
</mapper>
